import { useColorScheme } from '@/hooks/useColorScheme.web';

import { Platform } from 'react-native';
import { StatusBar } from 'expo-status-bar';
import { Tabs } from 'expo-router';
import { Colors } from '@/constants/Colors';
import { HapticTab } from '@/components/HapticTab';
import { SvgXml } from 'react-native-svg';

const homeIconSvg = `
  <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12.5 0C11.8985 0 11.3151 0.195313 10.8347 0.556L1.38933 7.63933C0.515633 8.29427 0 9.32423 0 10.4167V21.5273C0 23.4375 1.5625 25 3.47267 25H21.5273C23.4375 25 25 23.4375 25 21.5273V10.4167C25 9.32423 24.4844 8.29427 23.6107 7.63933L14.1653 0.556C13.6849 0.195333 13.1016 0 12.5 0ZM9.02737 11.1107H15.9727C16.1563 11.1107 16.3334 11.1849 16.4636 11.3151C16.5938 11.4453 16.6667 11.6211 16.6667 11.806C16.6667 11.9896 16.5938 12.1667 16.4636 12.2969C16.3334 12.4271 16.1563 12.5 15.9727 12.5H9.02737C8.64457 12.5 8.33337 12.1888 8.33337 11.806C8.33337 11.4219 8.64456 11.1107 9.02737 11.1107Z" fill="black"/>
</svg>
`;
const restaurantIconSvg = `
 <svg width="26" height="25" viewBox="0 0 26 25" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.0578 10.5186C9.6526 10.5812 10.7483 11.4265 11.0613 11.7708L11.4057 12.1152L12.6892 10.9256L12.2823 10.5499C11.9379 10.2056 11.124 9.14118 11.03 8.54638C10.8109 6.85589 11.0613 5.25932 9.02649 3.19316C6.33423 0.500898 2.98456 -0.500874 1.5132 0.970479C0.0418503 2.44183 1.04362 5.79151 3.73589 8.48377C5.77074 10.5499 7.36731 10.2682 9.0578 10.5186Z" fill="black"/>
<path d="M24.7419 24.2304C25.0863 23.886 25.4306 22.759 24.961 22.2894L14.6303 12.7413L13.3154 14.1814L22.801 24.4495C23.2705 24.9191 24.3975 24.5434 24.7419 24.2304Z" fill="black"/>
<path d="M0.730652 24.293C0.793263 24.3869 0.855873 24.4808 0.918484 24.5434C0.981095 24.606 1.07501 24.6686 1.16893 24.7313C1.63851 24.9817 2.48375 25.1695 2.85942 24.7626L3.04725 24.5434L15.4755 11.2073C15.6946 10.9882 15.9451 10.8317 16.2268 10.7377C16.446 10.6751 18.1364 10.5186 18.7312 10.2682C19.013 10.1429 19.2947 9.98642 19.5765 9.79858C20.7348 8.98464 21.58 7.76373 22.4879 6.69935C22.7383 6.4176 25.1175 3.41229 25.4932 2.9114C25.5245 2.88009 25.5245 2.81748 25.5245 2.78618C25.5245 2.75487 25.5245 2.72357 25.4932 2.72357C25.4306 2.59835 25.2741 2.56704 25.1802 2.66096C24.8358 3.03662 24.0845 3.81926 23.2705 4.69581C22.2374 5.8228 21.0478 7.07502 20.3278 7.85765C20.1713 8.04548 19.8582 8.20201 19.7643 8.01418C19.7017 7.88896 19.7956 7.73243 19.9209 7.60721L22.7383 4.22623L24.7106 1.87832C24.7732 1.69049 24.648 1.62788 24.4914 1.65918L22.2688 3.75665L19.2008 6.69935C19.0443 6.85588 18.8252 7.01241 18.6686 6.91849C18.6373 6.91849 18.606 6.85588 18.5747 6.82457C18.4808 6.66805 18.6373 6.44891 18.7939 6.29238L21.7366 3.22445L23.834 1.00177C23.8653 0.845245 23.834 0.720024 23.6149 0.782635L21.2357 2.78618L17.8547 5.60366C17.7295 5.69758 17.5729 5.8228 17.4477 5.76019C17.2599 5.66627 17.4477 5.35322 17.6043 5.19669C18.3869 4.47667 19.6391 3.28706 20.7661 2.25399C21.6426 1.40874 22.4566 0.688718 22.8009 0.344359C22.8949 0.250443 22.8636 0.0626106 22.7383 0.0313052C22.707 0.0313052 22.707 0.0313054 22.6757 0C22.6131 0 22.5818 -1.79597e-07 22.5192 0.0313052C22.0183 0.40697 19.0443 2.78618 18.7312 3.03662C17.6669 3.94448 16.446 4.78972 15.632 5.94802C15.4442 6.22977 15.2877 6.51152 15.1624 6.79327C14.912 7.38807 14.7555 9.07856 14.6929 9.2977C14.5989 9.57945 14.4424 9.82989 14.2233 10.049L0.918484 22.4147L0.699346 22.6025C0.323682 23.0095 0.480209 23.8234 0.730652 24.293Z" fill="black"/>
</svg>
`;
const orderIconSvg = `
  <svg width="28" height="25" viewBox="0 0 28 25" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.0663008 1.17133C0.0654792 1.01728 0.0952147 0.8646 0.153787 0.722122C0.212359 0.579643 0.298604 0.450194 0.407533 0.341265C0.516461 0.232337 0.64591 0.146092 0.788389 0.0875196C0.930868 0.0289476 1.08355 -0.00078801 1.23759 3.35861e-05H3.47482C3.9938 -0.00254178 4.50274 0.143041 4.94185 0.41968C5.38096 0.69632 5.73201 1.09253 5.95375 1.56176H26.0021C26.3016 1.56491 26.5965 1.63696 26.8637 1.77235C27.131 1.90774 27.3635 2.10283 27.5433 2.34251C27.723 2.58219 27.8452 2.86003 27.9004 3.1545C27.9555 3.44898 27.9421 3.7522 27.8613 4.04068L25.8595 11.4775C25.658 12.2241 25.2162 12.8837 24.6023 13.3541C23.9885 13.8246 23.2368 14.0798 22.4634 14.0803H8.43268L8.69916 15.4747C8.74974 15.7417 8.892 15.9825 9.10136 16.1557C9.31071 16.3288 9.57399 16.4233 9.84566 16.4229H23.926C24.2227 16.4445 24.5003 16.5776 24.7029 16.7954C24.9055 17.0133 25.0181 17.2998 25.0181 17.5973C25.0181 17.8948 24.9055 18.1813 24.7029 18.3992C24.5003 18.617 24.2227 18.7501 23.926 18.7717H9.81468C8.99704 18.7705 8.20532 18.4847 7.57544 17.9634C6.94556 17.4421 6.5168 16.7177 6.36277 15.9147L3.84666 2.65868C3.82981 2.57159 3.7838 2.49284 3.71621 2.4354C3.64862 2.37795 3.56349 2.34523 3.47482 2.34262H1.23759C1.08355 2.34344 0.930868 2.3137 0.788389 2.25513C0.64591 2.19656 0.516461 2.11031 0.407533 2.00139C0.298604 1.89246 0.212359 1.76301 0.153787 1.62053C0.0952147 1.47805 0.0654792 1.32537 0.0663008 1.17133ZM6.31939 22.6574C6.31939 22.1941 6.45678 21.7412 6.71419 21.3559C6.97159 20.9707 7.33746 20.6705 7.76551 20.4931C8.19356 20.3158 8.66457 20.2695 9.11899 20.3598C9.57341 20.4502 9.99082 20.6733 10.3184 21.001C10.6461 21.3286 10.8692 21.746 10.9595 22.2004C11.0499 22.6548 11.0035 23.1258 10.8262 23.5539C10.6489 23.9819 10.3487 24.3478 9.96345 24.6052C9.57821 24.8626 9.1253 25 8.66198 25C8.35434 25 8.04972 24.9394 7.76551 24.8217C7.48129 24.704 7.22305 24.5314 7.00552 24.3139C6.78799 24.0963 6.61544 23.8381 6.49771 23.5539C6.37998 23.2697 6.31939 22.965 6.31939 22.6574ZM22.7237 20.3148C23.345 20.3148 23.9408 20.5616 24.3801 21.001C24.8195 21.4403 25.0663 22.0361 25.0663 22.6574C25.0663 23.2787 24.8195 23.8746 24.3801 24.3139C23.9408 24.7532 23.345 25 22.7237 25C22.1024 25 21.5065 24.7532 21.0672 24.3139C20.6279 23.8746 20.3811 23.2787 20.3811 22.6574C20.3811 22.0361 20.6279 21.4403 21.0672 21.001C21.5065 20.5616 22.1024 20.3148 22.7237 20.3148Z" fill="black"/>
</svg>
`;
const profileIconSvg = `
  <svg width="26" height="25" viewBox="0 0 26 25" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13 13.2812C13.8629 13.2812 14.5625 12.5817 14.5625 11.7188C14.5625 10.8558 13.8629 10.1562 13 10.1562C12.1371 10.1562 11.4375 10.8558 11.4375 11.7188C11.4375 12.5817 12.1371 13.2812 13 13.2812Z" fill="black"/>
<path d="M23.9375 10.1562H22.874C22.6269 9.1022 22.2104 8.09524 21.6406 7.17469L22.3913 6.4232C22.6839 6.13 22.8482 5.73269 22.8482 5.31848C22.8482 4.90426 22.6839 4.50696 22.3913 4.21375L21.2862 3.10938C20.993 2.81696 20.5957 2.65276 20.1815 2.65276C19.7674 2.65276 19.3701 2.81696 19.0768 3.10938L18.3257 3.86008C17.4051 3.28989 16.398 2.87311 15.3438 2.62602V1.5625C15.3433 1.14825 15.1785 0.751094 14.8856 0.458171C14.5927 0.165248 14.1955 0.000475573 13.7812 0L12.2188 0C11.8045 0.000475573 11.4073 0.165248 11.1144 0.458171C10.8215 0.751094 10.6567 1.14825 10.6562 1.5625V2.62602C9.60202 2.87289 8.59491 3.28944 7.6743 3.85938L6.9232 3.10938C6.6299 2.81696 6.23264 2.65276 5.81848 2.65276C5.40432 2.65276 5.00705 2.81696 4.71375 3.10938L3.60938 4.21375C3.31679 4.50696 3.15247 4.90426 3.15247 5.31848C3.15247 5.73269 3.31679 6.13 3.60938 6.4232L4.36008 7.17469C3.79006 8.0952 3.37328 9.10215 3.12602 10.1562H2.0625C1.64825 10.1567 1.25109 10.3215 0.958171 10.6144C0.665248 10.9073 0.500476 11.3045 0.5 11.7188L0.5 13.2812C0.500476 13.6955 0.665248 14.0927 0.958171 14.3856C1.25109 14.6785 1.64825 14.8433 2.0625 14.8438H3.12602C3.37306 15.8978 3.7896 16.9048 4.35938 17.8253L3.60867 18.5768C3.31609 18.87 3.15177 19.2673 3.15177 19.6815C3.15177 20.0957 3.31609 20.493 3.60867 20.7862L4.71344 21.891C5.00674 22.1834 5.404 22.3476 5.81816 22.3476C6.23233 22.3476 6.62959 22.1834 6.92289 21.891L7.67398 21.1403C8.59464 21.7105 9.60187 22.1271 10.6562 22.374V23.4375C10.6567 23.8518 10.8215 24.2489 11.1144 24.5418C11.4073 24.8348 11.8045 24.9995 12.2188 25H13.7812C14.1955 24.9995 14.5927 24.8348 14.8856 24.5418C15.1785 24.2489 15.3433 23.8518 15.3438 23.4375V22.374C16.398 22.1272 17.4051 21.7106 18.3257 21.1406L19.0768 21.8913C19.3701 22.1837 19.7674 22.3479 20.1815 22.3479C20.5957 22.3479 20.993 22.1837 21.2862 21.8913L22.391 20.7866C22.6836 20.4934 22.8479 20.0961 22.8479 19.6818C22.8479 19.2676 22.6836 18.8703 22.391 18.5771L21.6403 17.8256C22.2102 16.905 22.6269 15.8979 22.874 14.8438H23.9375C24.3518 14.8433 24.7489 14.6785 25.0418 14.3856C25.3348 14.0927 25.4995 13.6955 25.5 13.2812V11.7188C25.4995 11.3045 25.3348 10.9073 25.0418 10.6144C24.7489 10.3215 24.3518 10.1567 23.9375 10.1562ZM18.2954 17.111C18.2887 17.1206 18.279 17.1277 18.272 17.137C17.6148 17.889 16.8044 18.4917 15.8951 18.9046C14.9858 19.3176 13.9987 19.5312 13.0001 19.5312C12.0014 19.5312 11.0143 19.3176 10.105 18.9046C9.19576 18.4917 8.38535 17.889 7.7282 17.137C7.72109 17.1277 7.71141 17.1206 7.70477 17.111C6.81642 16.0941 6.23969 14.8428 6.04351 13.5068C5.84733 12.1708 6.03999 10.8066 6.59847 9.57721C7.15695 8.3478 8.05763 7.30521 9.19286 6.57404C10.3281 5.84286 11.6498 5.45404 13.0002 5.45404C14.3505 5.45404 15.6722 5.84286 16.8075 6.57404C17.9427 7.30521 18.8434 8.3478 19.4018 9.57721C19.9603 10.8066 20.153 12.1708 19.9568 13.5068C19.7606 14.8428 19.1837 16.0941 18.2954 17.111Z" fill="black"/>
<path d="M13.0002 14.8437C12.3031 14.8409 11.6144 14.9948 10.9849 15.2941C10.3554 15.5934 9.80127 16.0304 9.36353 16.5729C10.3617 17.4715 11.6572 17.9688 13.0002 17.9688C14.3433 17.9688 15.6388 17.4715 16.637 16.5729C16.1992 16.0304 15.6451 15.5934 15.0155 15.294C14.386 14.9947 13.6972 14.8408 13.0002 14.8437Z" fill="black"/>
<path d="M13 7.03126C12.0262 7.02925 11.0696 7.28783 10.2295 7.78017C9.38932 8.27251 8.69619 8.98069 8.222 9.83123C7.74782 10.6818 7.50984 11.6437 7.53276 12.6172C7.55568 13.5907 7.83867 14.5404 8.35236 15.3677C8.97901 14.6572 9.76074 14.1005 10.637 13.7406C10.1485 13.18 9.87802 12.4624 9.87501 11.7188C9.87501 10.89 10.2043 10.0951 10.7903 9.50905C11.3764 8.923 12.1712 8.59376 13 8.59376C13.8288 8.59376 14.6237 8.923 15.2097 9.50905C15.7958 10.0951 16.125 10.89 16.125 11.7188C16.122 12.4624 15.8515 13.18 15.363 13.7406C16.2393 14.1005 17.021 14.6572 17.6477 15.3677C18.1614 14.5404 18.4443 13.5907 18.4673 12.6172C18.4902 11.6437 18.2522 10.6818 17.778 9.83123C17.3038 8.98069 16.6107 8.27251 15.7706 7.78017C14.9304 7.28783 13.9738 7.02925 13 7.03126Z" fill="black"/>
</svg>

`;

export default function UserPortalLayout() {
    const colorScheme = useColorScheme();

    return (
        <Tabs
            screenOptions={{
                tabBarActiveTintColor: Colors[colorScheme ?? 'light'].tint,
                headerShown: false,
                tabBarButton: HapticTab,
                tabBarStyle: {
                    borderCurve: 'circular',
                    height: 90,
                    display: 'flex',
                    flexDirection: 'row',
                    paddingTop: 10,

                    ...Platform.select({
                        ios: {
                            position: 'absolute',
                        },
                        default: {},
                    }),
                },
            }}
        >
            <Tabs.Screen
                name="home"
                options={{
                    // tabBarLabel: "",

                    tabBarIcon: ({ focused, color }) => (
                        <SvgXml
                            xml={homeIconSvg}
                            width={26}
                            height={26}
                            fill={
                                focused
                                    ? 'red'
                                    : Colors[colorScheme ?? 'light'].tint
                            }
                            color={
                                focused
                                    ? 'red'
                                    : Colors[colorScheme ?? 'light'].tint
                            }
                        />
                    ),
                }}
            />
            <Tabs.Screen
                name="restaurant"
                options={{
                    // tabBarLabel: "",
                    tabBarIcon: ({ focused }) => (
                        <SvgXml
                            xml={restaurantIconSvg}
                            width={26}
                            height={26}
                            fill={
                                focused
                                    ? 'red'
                                    : Colors[colorScheme ?? 'light'].tint
                            }
                        />
                    ),
                }}
            />
            <Tabs.Screen
                name="order"
                options={{
                    // tabBarLabel: "",
                    tabBarIcon: ({ focused }) => (
                        <SvgXml
                            xml={orderIconSvg}
                            width={26}
                            height={26}
                            fill={
                                focused
                                    ? 'red'
                                    : Colors[colorScheme ?? 'light'].tint
                            }
                        />
                    ),
                }}
            />
            <Tabs.Screen
                name="profile"
                options={{
                    // tabBarLabel: "",
                    tabBarIcon: ({ focused }) => (
                        <SvgXml
                            xml={profileIconSvg}
                            width={26}
                            height={26}
                            fill={
                                focused
                                    ? 'red'
                                    : Colors[colorScheme ?? 'light'].tint
                            }
                        />
                    ),
                }}
            />
        </Tabs>
    );
}
